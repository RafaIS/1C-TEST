 
&НаКлиенте
Процедура СравнитьВерсии(Команда)
	Нашли = Ложь;   // заведем переменную, чтобы отслеживать, нашли или нет разницу
	
	// сравнить версии двух строк и выяснить какая версия старше (оригинальное задание для стажера)
	мСтрокаОдин = СтрРазделить(Объект.СтрокаОдин,"."); // раскидаем по массивам
	мСтрокаОдин = СтрРазделить(Объект.СтрокаОдин,"."); // раскидаем строку по массивам, разрезав по точкам
	мСтрокаДва = СтрРазделить(Объект.СтрокаДва,".");
	
	КоличествоЗначенийВМассиве = мСтрокаОдин.Количество()-1; // для удобства закинуть в переменнуюю
	
	// идем по массиву с первого значения и дальше
	Для Индекс = 0 По КоличествоЗначенийВМассиве Цикл // по всем значениям массива пойдем

		ЗначениеОдин = Число(СокрЛП(мСтрокаОдин[Индекс])); // подчищаем от пробелов и превращаем в цифру, удаляя ведущие нули
		ЗначениеДва = Число(СокрЛП(мСтрокаДва[Индекс]));
		

		НакапливаемСтрокуОдин = "" + НакапливаемСтрокуОдин + ЗначениеОдин +  ?(Индекс = КоличествоЗначенийВМассиве,"",".");  // Накапливаем "очищенную" строку - потом ее вернем в форму
		НакапливаемСтрокуДва = "" + НакапливаемСтрокуДва + ЗначениеДва +  ?(Индекс = КоличествоЗначенийВМассиве,"",".");
		
		// мы сравниваем пары значений массива, начиная с 0 (первого элемента), и если пара не сходится
		// по заходим и получаем ответ. Попутно выставляем флаг Нашли в Истина (чтобы больше уже сюда не заходить)
		Если ЗначениеОдин <> ЗначениеДва и НЕ Нашли Тогда // ага, они не равны! )
			Нашли = Истина;
			// выясняем, что больше, для однозначного ответа нам больше одного сравнения и не надо
			Если ЗначениеОдин > ЗначениеДва Тогда
				Сообщить("Номер " + ЗначениеОдин + " в ПЕРВОЙ строке - однозначно старше!");
			Иначе
				Сообщить("Номер " + ЗначениеДва + " во ВТОРОЙ строке - однозначно старше!");
			КонецЕсли;			
		КонецЕсли;
		
	КонецЦикла;
	
	// Старый код. оставил для смеха
	// какая то дурость, но пока ничего не придумал, как просто отрезать последнюю точку (последний символ) )))
	// конечно, надо отследить в цикле последнюю итерацию (сделано выше через вычисление равенства в накоплении)
	//Объект.СтрокаОдин = Лев(НакапливаемСтрокуОдин,СтрДлина(НакапливаемСтрокуОдин)-1);	
	//Объект.СтрокаДва = Лев(НакапливаемСтрокуДва,СтрДлина(НакапливаемСтрокуДва)-1);
	
	Объект.СтрокаОдин = НакапливаемСтрокуОдин; // возвращаем в поля формы "подчищенные значения"
	Объект.СтрокаДва = НакапливаемСтрокуДва;
	
	Если НЕ Нашли Тогда
		Сообщить("Обе версии РАВНЫ - различий не найдено!");
	КонецЕсли;
	
КонецПроцедуры 
